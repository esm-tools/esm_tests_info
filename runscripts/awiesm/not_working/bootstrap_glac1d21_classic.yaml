# Script provided by Fernanda Matos, copied from
# /home/ollie/fmatos/work/mis3/run_configs_bootstrap/glac1d21_classic.yaml
general:
    account: !ENV ${ACCOUNT}
    setup_name: "awiesm"
    version: "2.1"
    compute_time: "06:00:00"
    initial_date: "2000-01-01"
    final_date: "2003-01-01"
    base_dir: !ENV ${ESM_TESTING_DIR}
    nmonth: 0
    nyear: 1
    with_wiso: False
    use_venv: False
    mesh_name: "CORE2_GLAC1D21"
    mesh_nx: 92416
    esm_tests_pool: /work/ollie/mandresm/testing_pool/glac1d21_classic/
    description: >
        This is a technical test of LGM bootstrapping. Experiment 2: Orography
        bootstrapping is applied.

awiesm:
    postprocessing: false
    model_dir: !ENV ${MODEL_DIR}
    version: "2.1"

echam:
    restart_rate: 1
    restart_unit: "years"
    add_input_sources:
            jansurf: "${esm_tests_pool}/bootstrap_files/create_bootstrap_file/initial_unit24.nc"
            target_orography: "${esm_tests_pool}/bootstrap_files/create_bootstrap_file/target_unit24.nc"
    add_input_files:
            target_orography: target_orography
    add_input_in_work:
            target_orography: target_orography_echam6.nc
    namelist_changes:
            namelist.echam:
                    submodelctl:
                            lupdate_orog: True
                    runctl:
                            l_orbvsop87: false
                            default_output: true
                    radctl:
                            # NOTE(PG): From Peter KÃ¶hler:
                            co2vmr: 187.240e-6
                            ch4vmr: 377.910e-9
                            n2ovmr: 206.460e-9
                            # NOTE(PG): From the Berger program:
                            cecc: 0.018994
                            cobld: 22.9449
                            clonp: 294.239
                            yr_perp: "remove_from_namelist"
                            lrad_async: False

hdmodel:
        add_input_sources:
            hdpara: "${esm_tests_pool}/hdmodel/hdpara_glac1d_lgm_echam6.nc"
jsbach:
        add_input_sources:
            jsbach_1850: "${esm_tests_pool}/jsbach/jsbach_T63CORE2_11tiles_5layers_1850_dynveg.nc"
fesom:
    resolution: "${general.mesh_name}"
    add_choose_resolution:
            CORE2_GLAC1D21:
                    nx: ${general.mesh_nx}
                    mesh_dir: "${esm_tests_pool}/fesom/mesh_${general.mesh_name}/"
    nproc: 288
    pool_dir: "/work/ollie/pool/FESOM/"
    restart_rate: 1
    restart_unit: "y"
    restart_first: 1
    add_required_plugins:
            - "git+https://gitlab.awi.de/paleodyn/Projects/PalMod/gfw_creator.git"

    climate_data_dir: "${esm_tests_pool}/fesom/hydrography/"
